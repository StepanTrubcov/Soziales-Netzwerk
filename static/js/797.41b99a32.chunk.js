"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[797],{797:(s,e,t)=>{t.r(e),t.d(e,{default:()=>G});var o=t(5043);const i={ava:"ProfileInfo_ava__npJUe",ProfileInfo:"ProfileInfo_ProfileInfo__Crj3O",name:"ProfileInfo_name__6B9qi",info:"ProfileInfo_info__tQE6T",about:"ProfileInfo_about__A6mMR"};var n=t(5790),r=t(579);const a=s=>{var e;const[t,a]=(0,o.useState)(!0),[l,c]=(0,o.useState)(s.info.status),[d,p]=(0,o.useState)(null===(e=s.profile)||void 0===e?void 0:e.photos.large);(0,o.useEffect)(()=>{c(s.info.status)},[s.info.status]);return s.profile?(0,r.jsx)("div",{className:i.name,children:s.info.EditProfileWindow&&(0,r.jsxs)("div",{className:i.ProfileInfo,children:[(0,r.jsx)("div",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t);p(e),s.NewPhoto(t)}},e.click()},style:{cursor:"pointer"},children:(0,r.jsx)("img",{className:i.ava,src:s.profile.photos.large&&d||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT5fCSweSQMzmeX5qopa0M5wAj0aUByRHPKXA&s",alt:"\u0410\u0432\u0430\u0442\u0430\u0440"})}),(0,r.jsxs)("div",{className:i.info,children:[(0,r.jsx)("div",{className:i.name,children:s.profile.fullName}),(0,r.jsxs)("div",{children:["Looking for a Job: ",s.profile.lookingForAJob?" Yes":" No"]}),(0,r.jsxs)("div",{children:["id: ",s.profile.userId]}),(0,r.jsxs)("div",{className:i.about,children:["Status:",!t&&(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{autoFocus:!0,onChange:s=>{c(s.target.value)},value:l,className:i.input})," ",(0,r.jsx)("button",{onClick:()=>{a(!0),s.updateStatus(l)},children:"Send"})]})||(0,r.jsx)("div",{onClick:()=>a(!1),children:s.info.status&&s.info.status||"No"})]})]})]})}):(0,r.jsx)(n.A,{})};var l=t(3003),c=t(3959),d=t(3923);class p extends o.Component{constructor(){super(...arguments),this.profileId=this.props.profileId}componentDidMount(){this.profileId||(this.profileId=32372),this.props.getStatus(this.profileId)}render(){if(this.props.profile)return(0,r.jsx)(a,{NewPhoto:this.props.NewPhoto,updateStatus:this.props.NewStatus,profileId:this.props.profileId,profile:this.props.profile,addInfoActionCreator:this.props.addInfoActionCreator,info:this.props.info})}}const u=(0,d.Zz)((0,l.Ng)(s=>({info:s.profile}),{NewPhoto:c.Pg,NewStatus:c.$M,getStatus:c.BS,addInfoActionCreator:c.Q,setEditProfileWindow:c.kp}))(p),f="MyPosts_newPost__HBpD3",m="MyPosts_text__-TmZ6",h="MyPosts_img__JpC7H",_="MyPosts_MyPosts__znRTt",P="MyPosts_name__34Eha",w=s=>(0,r.jsxs)("div",{className:_,children:[(0,r.jsx)("div",{className:P,children:"Posts"}),(0,r.jsx)("div",{className:f,children:s.Posts})]}),N=o.memo(s=>{const e=s.newPosts.map(s=>(0,r.jsxs)("div",{className:m,children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{className:h,src:s.img})}),s.text]}));return(0,r.jsx)(w,{addPostActionCreator:s.addPostActionCreator,Posts:e})}),x=(0,l.Ng)(s=>({newPosts:s.profile.postData}),{addPostActionCreator:c.oL})(N),j="Profile_info__yzEzv",v="Review_Review__RtIwk",g="Review_button__imiGb",b="Review_name__pQXJk",I=s=>(0,r.jsxs)("div",{className:v,children:[(0,r.jsx)("div",{className:b,children:"Review"}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:g,onClick:()=>{s.setNewPostWindow(!0)},children:"New Post"})})]}),S=(0,l.Ng)(null,{setNewPostWindow:c.zf,setEditProfileWindow:c.kp})(s=>(0,r.jsx)(I,{setEditProfileWindow:s.setEditProfileWindow,setNewPostWindow:s.setNewPostWindow})),C={NewPost:"NewPost_NewPost__WsTmZ",butDiv:"NewPost_butDiv__7Py9E",input:"NewPost_input__-WicA",image:"NewPost_image__bD5J1",button:"NewPost_button__Lh1Yu",inputFile:"NewPost_inputFile__XIT5n",info:"NewPost_info__XSzSO"};var A=t(5963),k=t(3842),y=t(4111),W=t(8001);const M=(0,y.d)(30),z=(0,k.A)({form:"newPostForm"})(s=>(0,r.jsxs)("form",{className:C.butDiv,onSubmit:s.handleSubmit,children:[(0,r.jsxs)("div",{className:C.info,children:[(0,r.jsx)("p",{children:"Text:"}),(0,r.jsx)(A.A,{validate:[y.Q,M],className:C.input,placeholder:"Enter your message",name:"text",component:W.p}),(0,r.jsx)(E,{mainPhoto:s.mainPhoto})]}),(0,r.jsx)("button",{className:C.button,children:"New Post"})]})),E=s=>{const[e,t]=(0,o.useState)(null);return(0,r.jsx)("img",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{const o=e.target.files[0];if(o){const e=URL.createObjectURL(o);t(e),s.mainPhoto(e)}},e.click()},style:{cursor:"pointer",width:70},className:C.ava,src:e&&e||"https://www.svgrepo.com/show/176893/instagram-social-media.svg"})},R=s=>{const[e,t]=(0,o.useState)();return(0,r.jsxs)("div",{className:C.NewPost,children:[(0,r.jsx)(z,{mainPhoto:s=>{console.log(s),t(s)},onSubmit:t=>{s.addPostActionCreator(t.text,e),s.setNewPostWindow(!1)}}),(0,r.jsx)("button",{className:C.button,onClick:()=>{s.setNewPostWindow(!1)},children:"Cancellation"})]})},D=(0,l.Ng)(null,{setNewPostWindow:c.zf,addPostActionCreator:c.oL})(s=>(0,r.jsx)(R,{addPostActionCreator:s.addPostActionCreator,setNewPostWindow:s.setNewPostWindow})),U="Subscriptions_ava__U6gc6",L="Subscriptions_name__WL7hq",T="Subscriptions_blok__vO6tt",X="Subscriptions_Subscriptions__b8rpk",q=s=>{const e=s.users.map(s=>{if(!0===s.followed)return(0,r.jsxs)("div",{className:T,children:[s.photos.large&&(0,r.jsx)("img",{className:U,src:s.photos.large})||(0,r.jsx)("img",{className:U,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT5fCSweSQMzmeX5qopa0M5wAj0aUByRHPKXA&s"}),(0,r.jsx)("div",{className:L,children:s.name})]})});return(0,r.jsxs)("div",{className:X,children:["Friends",e]})};var F=t(2236);class J extends o.Component{componentDidMount(){this.props.getUserData(this.props.correntPage,this.props.pageSize)}render(){return(0,r.jsx)(q,{users:this.props.users})}}const Q=(0,l.Ng)(s=>({users:s.subscriptions.users,pageSize:s.users.pageSize,correntPage:s.users.correntPage}),{getUserData:F.g})(J),B=s=>32372===s.profileId?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:j,children:[(0,r.jsx)(u,{profileId:s.profileId,profile:s.profile}),(0,r.jsx)(S,{})]}),s.newPostWindow&&(0,r.jsx)(D,{}),(0,r.jsxs)("div",{className:j,children:[(0,r.jsx)(x,{}),(0,r.jsx)(Q,{})]})]}):(0,r.jsx)("div",{children:(0,r.jsx)(u,{profileId:s.profileId,profile:s.profile})});var O=t(3721),Z=t(7863);class H extends o.Component{constructor(){super(...arguments),this.profileId=this.props.router.params.userId}componentDidMount(){this.profileId||(this.profileId=this.props.userId.userId),this.props.getProfile(this.profileId)}render(){return(0,r.jsx)("div",{children:(0,r.jsx)(B,{...this.props,profile:this.props.profile,profileId:this.profileId})})}}const G=(0,d.Zz)((0,l.Ng)(s=>({profile:s.profile.profile,newPostWindow:s.profile.newPostWindow,userId:s.auth}),{getProfile:c.E$}),function(s){return function(e){let t=(0,O.zy)(),o=(0,O.Zp)(),i=(0,O.g)();return(0,r.jsx)(s,{...e,router:{location:t,navigate:o,params:i}})}},Z.A)(H)}}]);
//# sourceMappingURL=797.41b99a32.chunk.js.map